@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* DARK THEME DEFAULTS */
  --bg: #0b1220;
  --text: #e2e8f0;
  --card: #0f172a;
  --muted: #94a3b8;

  /* Animated gradient colors (DARK: low opacity, cooler palette) */
  --grad-a: rgba(110, 64, 255, 0.25);
  --grad-b: rgba(77, 231, 226, 0.18);
  --grad-c: rgba(249, 203, 40, 0.12);
  --grad-d: rgba(255, 107, 107, 0.14);

  /* Grain overlay */
  --grain: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'>\
<filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4'/></filter>\
<rect width='100%' height='100%' filter='url(%23n)' opacity='.05'/></svg>");
}

/* LIGHT THEME OVERRIDES */
[data-theme="light"] {
  --bg: #f8fafc;
  --text: #0f172a;
  --card: #ffffff;
  --muted: #475569;

  /* LIGHT: higher opacity, warmer/brighter mix */
  --grad-a: rgba(110, 64, 255, 0.55);
  --grad-b: rgba(77, 231, 226, 0.45);
  --grad-c: rgba(249, 203, 40, 0.40);
  --grad-d: rgba(255, 107, 107, 0.42);
}

@keyframes bgShift {
  0% { background-position: 0% 50%, 100% 50%, 0% 0%; }
  50% { background-position: 100% 50%, 0% 50%, 100% 100%; }
  100% { background-position: 0% 50%, 100% 50%, 0% 0%; }
}

/* Animated, theme-aware background */
body {
  color: var(--text);
  background-color: var(--bg);
  background-image:
    radial-gradient(1200px 600px at 0% -20%, rgba(0,0,0,0.35), transparent 60%), /* keeps dark vibe in dark */
    radial-gradient(1200px 600px at 100% 120%, rgba(0,0,0,0.25), transparent 60%),
    linear-gradient(120deg, var(--grad-a), var(--grad-b), var(--grad-c), var(--grad-d)),
    var(--grain);
  background-size: 300% 300%, 300% 300%, 400% 400%, auto;
  background-blend-mode: multiply, multiply, normal, normal; /* preserves “dark tone” in dark */
  animation: bgShift 40s ease infinite;
  min-height: 100dvh;
}

/* Light theme: soften the dark overlays so colors stay bright */
[data-theme="light"] body {
  background-image:
    radial-gradient(1200px 600px at 0% -20%, rgba(0,0,0,0.08), transparent 60%),
    radial-gradient(1200px 600px at 100% 120%, rgba(0,0,0,0.06), transparent 60%),
    linear-gradient(120deg, var(--grad-a), var(--grad-b), var(--grad-c), var(--grad-d)),
    var(--grain);
  background-blend-mode: normal, normal, normal, normal;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  body { animation: none; }
}
